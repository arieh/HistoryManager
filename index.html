<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
<head>
	<title>History-Manager Demo</title>
	<meta http-equiv="Content-Type" content="text/html; charset='UTF-8'" />
	<style type='text/css'>
		ul{list-style-type:none}
		result{border:1px solid #abc}
		
	</style>
</head>
<body>
<h1>HistoryManager Demo Page</h1>
<h2>How to use</h2>
<p>Enter a value into the text-field. Use the <em>Modify Value</em> button to update the field's value.</p>
<p>Use the <em>Remove</em> button to remove the current value.</p>
<p>Use The <em>Stop</em> and <em>Start</em> buttons to stop/start the listener.</p>
<input type='text' id='newValue' />
<ul>
	<li><a href='javascript:;' id='add'>Modify Value</a></li>
	<li><a href='javascript:;' id='remove'>Remove</a></li>
	<li><a href='javascript:;' id='stop'>Stop</a></li>
	<li><a href='javascript:;' id='start'>Start</a></li>
</ul>
<h2>Result:</h2>
<div id='result'></div>
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/mootools/1.2.4/mootools-yui-compressed.js'></script>
<script type='text/javascript' src='http://github.com/arieh/HistoryManager/raw/master/Source/HashListener.js'></script>
<script type='text/javascript' src='http://github.com/arieh/HistoryManager/raw/master/Source/HistoryManager.js'></script>
<script type='text/javascript'>
	
	var HM = new HistoryManager();
	
	window.addEvent('domready',function(){
		$('add').addEvent('click',function(){
			HM.set('state',$('newValue').value);
		});
		
		$('remove').addEvent('click',function(){
			HM.remove('state');
		});
		
		$('stop').addEvent('click',function(){
			HM.stop();
			if (console) console.log('stoped');
		});
		
		$('start').addEvent('click',function(){
			HM.start();
			if (console) console.log('start');
		});
		
		HM.addEvent('state-added',function(value){
			$('result').set('html','added: '+value);
			if (console) console.log(value,'added');
		})
		HM.addEvent('state-changed',function(value){
			$('result').set('html','changed: '+value);
			if (console) console.log(value,'changed');
		})
		HM.addEvent('state-removed',function(value){
			$('result').set('html','removed: '+value);
			if (console) console.log(value,'removed');
		})
		
		HM.start();
	});
</script>
</body>
</html>
